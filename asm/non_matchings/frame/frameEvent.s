glabel frameEvent
/* 01BC64 80021204 7C0802A6 */  mflr    r0
/* 01BC68 80021208 90010004 */  stw     r0, 4(r1)
/* 01BC6C 8002120C 9421FFC0 */  stwu    r1, -0x40(r1)
/* 01BC70 80021210 93E1003C */  stw     r31, 0x3c(r1)
/* 01BC74 80021214 93C10038 */  stw     r30, 0x38(r1)
/* 01BC78 80021218 93A10034 */  stw     r29, 0x34(r1)
/* 01BC7C 8002121C 93810030 */  stw     r28, 0x30(r1)
/* 01BC80 80021220 7C7F1B78 */  mr      r31, r3
/* 01BC84 80021224 2C040004 */  cmpwi   r4, 4
/* 01BC88 80021228 41820334 */  beq     lbl_8002155C
/* 01BC8C 8002122C 4080001C */  bge     lbl_80021248
/* 01BC90 80021230 2C040002 */  cmpwi   r4, 2
/* 01BC94 80021234 4182002C */  beq     lbl_80021260
/* 01BC98 80021238 408001E8 */  bge     lbl_80021420
/* 01BC9C 8002123C 2C040000 */  cmpwi   r4, 0
/* 01BCA0 80021240 40800324 */  bge     lbl_80021564
/* 01BCA4 80021244 48000318 */  b       lbl_8002155C
lbl_80021248:
/* 01BCA8 80021248 2C041003 */  cmpwi   r4, 0x1003
/* 01BCAC 8002124C 41820218 */  beq     lbl_80021464
/* 01BCB0 80021250 4080030C */  bge     lbl_8002155C
/* 01BCB4 80021254 2C040007 */  cmpwi   r4, 7
/* 01BCB8 80021258 40800304 */  bge     lbl_8002155C
/* 01BCBC 8002125C 48000308 */  b       lbl_80021564
lbl_80021260:
/* 01BCC0 80021260 3B800000 */  li      r28, 0
/* 01BCC4 80021264 939F007C */  stw     r28, 0x7c(r31)
/* 01BCC8 80021268 3C000002 */  lis     r0, 2
/* 01BCCC 8002126C 3FBF0004 */  addis   r29, r31, 4
/* 01BCD0 80021270 901F008C */  stw     r0, 0x8c(r31)
/* 01BCD4 80021274 3BC00001 */  li      r30, 1
/* 01BCD8 80021278 7FE3FB78 */  mr      r3, r31
/* 01BCDC 8002127C 939DC4C8 */  stw     r28, -0x3b38(r29)
/* 01BCE0 80021280 939F0088 */  stw     r28, 0x88(r31)
/* 01BCE4 80021284 93CD89AC */  stw     r30, gbFrameBegin@sda21(r13)
/* 01BCE8 80021288 938D89A8 */  stw     r28, gbFrameValid@sda21(r13)
/* 01BCEC 8002128C 938D89E0 */  stw     r28, gnCountMapHack@sda21(r13)
/* 01BCF0 80021290 4BFFF6C9 */  bl      frameSetupCache
/* 01BCF4 80021294 2C030000 */  cmpwi   r3, 0
/* 01BCF8 80021298 4082000C */  bne     lbl_800212A4
/* 01BCFC 8002129C 38600000 */  li      r3, 0
/* 01BD00 800212A0 480002C8 */  b       lbl_80021568
lbl_800212A4:
/* 01BD04 800212A4 3800FFFF */  li      r0, -1
/* 01BD08 800212A8 901F0118 */  stw     r0, 0x118(r31)
/* 01BD0C 800212AC 38A000AA */  li      r5, 0xaa
/* 01BD10 800212B0 38800140 */  li      r4, 0x140
/* 01BD14 800212B4 901F011C */  stw     r0, 0x11c(r31)
/* 01BD18 800212B8 380000F0 */  li      r0, 0xf0
/* 01BD1C 800212BC 3C604330 */  lis     r3, 0x4330
/* 01BD20 800212C0 C0028100 */  lfs     f0, D_80135E00@sda21(r2)
/* 01BD24 800212C4 D01F00B8 */  stfs    f0, 0xb8(r31)
/* 01BD28 800212C8 D01F00BC */  stfs    f0, 0xbc(r31)
/* 01BD2C 800212CC 939F002C */  stw     r28, 0x2c(r31)
/* 01BD30 800212D0 939F0024 */  stw     r28, 0x24(r31)
/* 01BD34 800212D4 939F0028 */  stw     r28, 0x28(r31)
/* 01BD38 800212D8 939F0030 */  stw     r28, 0x30(r31)
/* 01BD3C 800212DC B39F0020 */  sth     r28, 0x20(r31)
/* 01BD40 800212E0 939F0034 */  stw     r28, 0x34(r31)
/* 01BD44 800212E4 939F0038 */  stw     r28, 0x38(r31)
/* 01BD48 800212E8 939F003C */  stw     r28, 0x3c(r31)
/* 01BD4C 800212EC 939F0040 */  stw     r28, 0x40(r31)
/* 01BD50 800212F0 939F0048 */  stw     r28, 0x48(r31)
/* 01BD54 800212F4 98BF004C */  stb     r5, 0x4c(r31)
/* 01BD58 800212F8 939F0050 */  stw     r28, 0x50(r31)
/* 01BD5C 800212FC 939F0054 */  stw     r28, 0x54(r31)
/* 01BD60 80021300 939F0060 */  stw     r28, 0x60(r31)
/* 01BD64 80021304 939F0064 */  stw     r28, 0x64(r31)
/* 01BD68 80021308 939F0068 */  stw     r28, 0x68(r31)
/* 01BD6C 8002130C 939F006C */  stw     r28, 0x6c(r31)
/* 01BD70 80021310 939F0058 */  stw     r28, 0x58(r31)
/* 01BD74 80021314 939F005C */  stw     r28, 0x5c(r31)
/* 01BD78 80021318 C0028160 */  lfs     f0, D_80135E60@sda21(r2)
/* 01BD7C 8002131C D01F00C0 */  stfs    f0, 0xc0(r31)
/* 01BD80 80021320 C0028164 */  lfs     f0, D_80135E64@sda21(r2)
/* 01BD84 80021324 D01F00C4 */  stfs    f0, 0xc4(r31)
/* 01BD88 80021328 909DC4B8 */  stw     r4, -0x3b48(r29)
/* 01BD8C 8002132C 901DC4C0 */  stw     r0, -0x3b40(r29)
/* 01BD90 80021330 801DC4BC */  lwz     r0, -0x3b44(r29)
/* 01BD94 80021334 C8428110 */  lfd     f2, D_80135E10@sda21(r2)
/* 01BD98 80021338 6C008000 */  xoris   r0, r0, 0x8000
/* 01BD9C 8002133C C0028168 */  lfs     f0, D_80135E68@sda21(r2)
/* 01BDA0 80021340 9001002C */  stw     r0, 0x2c(r1)
/* 01BDA4 80021344 90610028 */  stw     r3, 0x28(r1)
/* 01BDA8 80021348 C8210028 */  lfd     f1, 0x28(r1)
/* 01BDAC 8002134C EC211028 */  fsubs   f1, f1, f2
/* 01BDB0 80021350 EC010024 */  fdivs   f0, f1, f0
/* 01BDB4 80021354 D01F0080 */  stfs    f0, 0x80(r31)
/* 01BDB8 80021358 801DC4C4 */  lwz     r0, -0x3b3c(r29)
/* 01BDBC 8002135C C002816C */  lfs     f0, D_80135E6C@sda21(r2)
/* 01BDC0 80021360 6C008000 */  xoris   r0, r0, 0x8000
/* 01BDC4 80021364 90010024 */  stw     r0, 0x24(r1)
/* 01BDC8 80021368 90610020 */  stw     r3, 0x20(r1)
/* 01BDCC 8002136C C8210020 */  lfd     f1, 0x20(r1)
/* 01BDD0 80021370 EC211028 */  fsubs   f1, f1, f2
/* 01BDD4 80021374 EC010024 */  fdivs   f0, f1, f0
/* 01BDD8 80021378 D01F0084 */  stfs    f0, 0x84(r31)
/* 01BDDC 8002137C 4BFE4561 */  bl      xlCoreHiResolution
/* 01BDE0 80021380 2C030000 */  cmpwi   r3, 0
/* 01BDE4 80021384 41820008 */  beq     lbl_8002138C
/* 01BDE8 80021388 48000008 */  b       lbl_80021390
lbl_8002138C:
/* 01BDEC 8002138C 7FDCF378 */  mr      r28, r30
lbl_80021390:
/* 01BDF0 80021390 380001E0 */  li      r0, 0x1e0
/* 01BDF4 80021394 7C04E630 */  sraw    r4, r0, r28
/* 01BDF8 80021398 2C040000 */  cmpwi   r4, 0
/* 01BDFC 8002139C 40810074 */  ble     lbl_80021410
/* 01BE00 800213A0 3CBF0004 */  addis   r5, r31, 4
/* 01BE04 800213A4 38000280 */  li      r0, 0x280
/* 01BE08 800213A8 9005C4BC */  stw     r0, -0x3b44(r5)
/* 01BE0C 800213AC 6C808000 */  xoris   r0, r4, 0x8000
/* 01BE10 800213B0 3C604330 */  lis     r3, 0x4330
/* 01BE14 800213B4 9085C4C4 */  stw     r4, -0x3b3c(r5)
/* 01BE18 800213B8 8085C4B8 */  lwz     r4, -0x3b48(r5)
/* 01BE1C 800213BC 9001002C */  stw     r0, 0x2c(r1)
/* 01BE20 800213C0 6C808000 */  xoris   r0, r4, 0x8000
/* 01BE24 800213C4 C8428110 */  lfd     f2, D_80135E10@sda21(r2)
/* 01BE28 800213C8 90010024 */  stw     r0, 0x24(r1)
/* 01BE2C 800213CC C0628160 */  lfs     f3, D_80135E60@sda21(r2)
/* 01BE30 800213D0 90610020 */  stw     r3, 0x20(r1)
/* 01BE34 800213D4 C8010020 */  lfd     f0, 0x20(r1)
/* 01BE38 800213D8 90610028 */  stw     r3, 0x28(r1)
/* 01BE3C 800213DC EC201028 */  fsubs   f1, f0, f2
/* 01BE40 800213E0 C8010028 */  lfd     f0, 0x28(r1)
/* 01BE44 800213E4 EC230824 */  fdivs   f1, f3, f1
/* 01BE48 800213E8 D03F0080 */  stfs    f1, 0x80(r31)
/* 01BE4C 800213EC EC201028 */  fsubs   f1, f0, f2
/* 01BE50 800213F0 8005C4C0 */  lwz     r0, -0x3b40(r5)
/* 01BE54 800213F4 6C008000 */  xoris   r0, r0, 0x8000
/* 01BE58 800213F8 9001001C */  stw     r0, 0x1c(r1)
/* 01BE5C 800213FC 90610018 */  stw     r3, 0x18(r1)
/* 01BE60 80021400 C8010018 */  lfd     f0, 0x18(r1)
/* 01BE64 80021404 EC001028 */  fsubs   f0, f0, f2
/* 01BE68 80021408 EC010024 */  fdivs   f0, f1, f0
/* 01BE6C 8002140C D01F0084 */  stfs    f0, 0x84(r31)
lbl_80021410:
/* 01BE70 80021410 3C608003 */  lis     r3, frameDrawDone@ha
/* 01BE74 80021414 3863C2E4 */  addi    r3, r3, frameDrawDone@l
/* 01BE78 80021418 48089E91 */  bl      GXSetDrawDoneCallback
/* 01BE7C 8002141C 48000148 */  b       lbl_80021564
lbl_80021420:
/* 01BE80 80021420 387F1C1C */  addi    r3, r31, 0x1c1c
/* 01BE84 80021424 4BFE5C75 */  bl      xlHeapFree
/* 01BE88 80021428 2C030000 */  cmpwi   r3, 0
/* 01BE8C 8002142C 4082000C */  bne     lbl_80021438
/* 01BE90 80021430 38000000 */  li      r0, 0
/* 01BE94 80021434 48000020 */  b       lbl_80021454
lbl_80021438:
/* 01BE98 80021438 387F1C18 */  addi    r3, r31, 0x1c18
/* 01BE9C 8002143C 4BFE5C5D */  bl      xlHeapFree
/* 01BEA0 80021440 2C030000 */  cmpwi   r3, 0
/* 01BEA4 80021444 4082000C */  bne     lbl_80021450
/* 01BEA8 80021448 38000000 */  li      r0, 0
/* 01BEAC 8002144C 48000008 */  b       lbl_80021454
lbl_80021450:
/* 01BEB0 80021450 38000001 */  li      r0, 1
lbl_80021454:
/* 01BEB4 80021454 2C000000 */  cmpwi   r0, 0
/* 01BEB8 80021458 4082010C */  bne     lbl_80021564
/* 01BEBC 8002145C 38600000 */  li      r3, 0
/* 01BEC0 80021460 48000108 */  b       lbl_80021568
lbl_80021464:
/* 01BEC4 80021464 3C7F0004 */  addis   r3, r31, 4
/* 01BEC8 80021468 38000000 */  li      r0, 0
/* 01BECC 8002146C 9003D13C */  stw     r0, -0x2ec4(r3)
/* 01BED0 80021470 9003D140 */  stw     r0, -0x2ec0(r3)
/* 01BED4 80021474 9003D144 */  stw     r0, -0x2ebc(r3)
/* 01BED8 80021478 9003D148 */  stw     r0, -0x2eb8(r3)
/* 01BEDC 8002147C 806D8920 */  lwz     r3, gpSystem@sda21(r13)
/* 01BEE0 80021480 80030020 */  lwz     r0, 0x20(r3)
/* 01BEE4 80021484 2C000007 */  cmpwi   r0, 7
/* 01BEE8 80021488 41820014 */  beq     lbl_8002149C
/* 01BEEC 8002148C 2C000005 */  cmpwi   r0, 5
/* 01BEF0 80021490 4182000C */  beq     lbl_8002149C
/* 01BEF4 80021494 2C00000B */  cmpwi   r0, 0xb
/* 01BEF8 80021498 40820028 */  bne     lbl_800214C0
lbl_8002149C:
/* 01BEFC 8002149C 3C7F0004 */  addis   r3, r31, 4
/* 01BF00 800214A0 3C803002 */  lis     r4, 0x3002
/* 01BF04 800214A4 3863D13C */  addi    r3, r3, -11972
/* 01BF08 800214A8 38845800 */  addi    r4, r4, 0x5800
/* 01BF0C 800214AC 4BFE5D09 */  bl      xlHeapTake
/* 01BF10 800214B0 2C030000 */  cmpwi   r3, 0
/* 01BF14 800214B4 4082000C */  bne     lbl_800214C0
/* 01BF18 800214B8 38600000 */  li      r3, 0
/* 01BF1C 800214BC 480000AC */  b       lbl_80021568
lbl_800214C0:
/* 01BF20 800214C0 806D8920 */  lwz     r3, gpSystem@sda21(r13)
/* 01BF24 800214C4 80030020 */  lwz     r0, 0x20(r3)
/* 01BF28 800214C8 2C000005 */  cmpwi   r0, 5
/* 01BF2C 800214CC 40820028 */  bne     lbl_800214F4
/* 01BF30 800214D0 3C7F0004 */  addis   r3, r31, 4
/* 01BF34 800214D4 3C803002 */  lis     r4, 0x3002
/* 01BF38 800214D8 3863D140 */  addi    r3, r3, -11968
/* 01BF3C 800214DC 38845800 */  addi    r4, r4, 0x5800
/* 01BF40 800214E0 4BFE5CD5 */  bl      xlHeapTake
/* 01BF44 800214E4 2C030000 */  cmpwi   r3, 0
/* 01BF48 800214E8 4082000C */  bne     lbl_800214F4
/* 01BF4C 800214EC 38600000 */  li      r3, 0
/* 01BF50 800214F0 48000078 */  b       lbl_80021568
lbl_800214F4:
/* 01BF54 800214F4 806D8920 */  lwz     r3, gpSystem@sda21(r13)
/* 01BF58 800214F8 80030020 */  lwz     r0, 0x20(r3)
/* 01BF5C 800214FC 2C000005 */  cmpwi   r0, 5
/* 01BF60 80021500 40820028 */  bne     lbl_80021528
/* 01BF64 80021504 3C7F0004 */  addis   r3, r31, 4
/* 01BF68 80021508 3C803005 */  lis     r4, 0x3005
/* 01BF6C 8002150C 3863D144 */  addi    r3, r3, -11964
/* 01BF70 80021510 3884B000 */  addi    r4, r4, -20480
/* 01BF74 80021514 4BFE5CA1 */  bl      xlHeapTake
/* 01BF78 80021518 2C030000 */  cmpwi   r3, 0
/* 01BF7C 8002151C 4082000C */  bne     lbl_80021528
/* 01BF80 80021520 38600000 */  li      r3, 0
/* 01BF84 80021524 48000044 */  b       lbl_80021568
lbl_80021528:
/* 01BF88 80021528 806D8920 */  lwz     r3, gpSystem@sda21(r13)
/* 01BF8C 8002152C 80030020 */  lwz     r0, 0x20(r3)
/* 01BF90 80021530 2C000005 */  cmpwi   r0, 5
/* 01BF94 80021534 40820030 */  bne     lbl_80021564
/* 01BF98 80021538 3C7F0004 */  addis   r3, r31, 4
/* 01BF9C 8002153C 3C803001 */  lis     r4, 0x3001
/* 01BFA0 80021540 3863D148 */  addi    r3, r3, -11960
/* 01BFA4 80021544 3884A000 */  addi    r4, r4, -24576
/* 01BFA8 80021548 4BFE5C6D */  bl      xlHeapTake
/* 01BFAC 8002154C 2C030000 */  cmpwi   r3, 0
/* 01BFB0 80021550 40820014 */  bne     lbl_80021564
/* 01BFB4 80021554 38600000 */  li      r3, 0
/* 01BFB8 80021558 48000010 */  b       lbl_80021568
lbl_8002155C:
/* 01BFBC 8002155C 38600000 */  li      r3, 0
/* 01BFC0 80021560 48000008 */  b       lbl_80021568
lbl_80021564:
/* 01BFC4 80021564 38600001 */  li      r3, 1
lbl_80021568:
/* 01BFC8 80021568 80010044 */  lwz     r0, 0x44(r1)
/* 01BFCC 8002156C 83E1003C */  lwz     r31, 0x3c(r1)
/* 01BFD0 80021570 83C10038 */  lwz     r30, 0x38(r1)
/* 01BFD4 80021574 7C0803A6 */  mtlr    r0
/* 01BFD8 80021578 83A10034 */  lwz     r29, 0x34(r1)
/* 01BFDC 8002157C 83810030 */  lwz     r28, 0x30(r1)
/* 01BFE0 80021580 38210040 */  addi    r1, r1, 0x40
/* 01BFE4 80021584 4E800020 */  blr     
