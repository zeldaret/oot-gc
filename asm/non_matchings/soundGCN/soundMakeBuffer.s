glabel soundMakeBuffer
/* 017518 8001CAB8 7C0802A6 */  mflr    r0
/* 01751C 8001CABC 90010004 */  stw     r0, 4(r1)
/* 017520 8001CAC0 9421FFE0 */  stwu    r1, -0x20(r1)
/* 017524 8001CAC4 93E1001C */  stw     r31, 0x1c(r1)
/* 017528 8001CAC8 93C10018 */  stw     r30, 0x18(r1)
/* 01752C 8001CACC 3BC00000 */  li      r30, 0
/* 017530 8001CAD0 93A10014 */  stw     r29, 0x14(r1)
/* 017534 8001CAD4 7C7D1B78 */  mr      r29, r3
/* 017538 8001CAD8 93810010 */  stw     r28, 0x10(r1)
/* 01753C 8001CADC 8083000C */  lwz     r4, 0xc(r3)
/* 017540 8001CAE0 3C608011 */  lis     r3, gVolumeCurve@ha
/* 017544 8001CAE4 39838180 */  addi    r12, r3, gVolumeCurve@l
/* 017548 8001CAE8 811D00B0 */  lwz     r8, 0xb0(r29)
/* 01754C 8001CAEC 1C647D00 */  mulli   r3, r4, 0x7d00
/* 017550 8001CAF0 801D0004 */  lwz     r0, 4(r29)
/* 017554 8001CAF4 38633E80 */  addi    r3, r3, 0x3e80
/* 017558 8001CAF8 7CA303D6 */  divw    r5, r3, r0
/* 01755C 8001CAFC 54A3F0B8 */  rlwinm  r3, r5, 0x1e, 2, 0x1c
/* 017560 8001CB00 5480701E */  rlwinm  r0, r4, 0xe, 0, 0xf
/* 017564 8001CB04 7C001B96 */  divwu   r0, r0, r3
/* 017568 8001CB08 5503103A */  slwi    r3, r8, 2
/* 01756C 8001CB0C 54A7F876 */  rlwinm  r7, r5, 0x1f, 1, 0x1b
/* 017570 8001CB10 7C9D1A14 */  add     r4, r29, r3
/* 017574 8001CB14 54A60034 */  rlwinm  r6, r5, 0, 0, 0x1a
/* 017578 8001CB18 90C40050 */  stw     r6, 0x50(r4)
/* 01757C 8001CB1C 38670001 */  addi    r3, r7, 1
/* 017580 8001CB20 5463F87E */  srwi    r3, r3, 1
/* 017584 8001CB24 80A40010 */  lwz     r5, 0x10(r4)
/* 017588 8001CB28 28070000 */  cmplwi  r7, 0
/* 01758C 8001CB2C 7C6903A6 */  mtctr   r3
/* 017590 8001CB30 3BE80000 */  addi    r31, r8, 0
/* 017594 8001CB34 38860000 */  addi    r4, r6, 0
/* 017598 8001CB38 38650000 */  addi    r3, r5, 0
/* 01759C 8001CB3C 3D000001 */  lis     r8, 1
/* 0175A0 8001CB40 38C00000 */  li      r6, 0
/* 0175A4 8001CB44 38E00000 */  li      r7, 0
/* 0175A8 8001CB48 40810074 */  ble     lbl_8001CBBC
lbl_8001CB4C:
/* 0175AC 8001CB4C 813D00C8 */  lwz     r9, 0xc8(r29)
/* 0175B0 8001CB50 39470001 */  addi    r10, r7, 1
/* 0175B4 8001CB54 54CB843E */  srwi    r11, r6, 0x10
/* 0175B8 8001CB58 7D290E70 */  srawi   r9, r9, 1
/* 0175BC 8001CB5C 7C0A4800 */  cmpw    r10, r9
/* 0175C0 8001CB60 4080004C */  bge     lbl_8001CBAC
/* 0175C4 8001CB64 7D0A4670 */  srawi   r10, r8, 8
/* 0175C8 8001CB68 813D0000 */  lwz     r9, 0(r29)
/* 0175CC 8001CB6C 554A103A */  slwi    r10, r10, 2
/* 0175D0 8001CB70 557C103A */  slwi    r28, r11, 2
/* 0175D4 8001CB74 7D6C5214 */  add     r11, r12, r10
/* 0175D8 8001CB78 7D49E2AE */  lhax    r10, r9, r28
/* 0175DC 8001CB7C 816B0000 */  lwz     r11, 0(r11)
/* 0175E0 8001CB80 393C0002 */  addi    r9, r28, 2
/* 0175E4 8001CB84 7D4B51D6 */  mullw   r10, r11, r10
/* 0175E8 8001CB88 7D4A8670 */  srawi   r10, r10, 0x10
/* 0175EC 8001CB8C 7D4A0734 */  extsh   r10, r10
/* 0175F0 8001CB90 B1450002 */  sth     r10, 2(r5)
/* 0175F4 8001CB94 815D0000 */  lwz     r10, 0(r29)
/* 0175F8 8001CB98 7D2A4AAE */  lhax    r9, r10, r9
/* 0175FC 8001CB9C 7D2B49D6 */  mullw   r9, r11, r9
/* 017600 8001CBA0 7D298670 */  srawi   r9, r9, 0x10
/* 017604 8001CBA4 7D290734 */  extsh   r9, r9
/* 017608 8001CBA8 B1250000 */  sth     r9, 0(r5)
lbl_8001CBAC:
/* 01760C 8001CBAC 7CC60214 */  add     r6, r6, r0
/* 017610 8001CBB0 38A50004 */  addi    r5, r5, 4
/* 017614 8001CBB4 38E70002 */  addi    r7, r7, 2
/* 017618 8001CBB8 4200FF94 */  bdnz    lbl_8001CB4C
lbl_8001CBBC:
/* 01761C 8001CBBC 48080BF1 */  bl      DCStoreRange
/* 017620 8001CBC0 387F0001 */  addi    r3, r31, 1
/* 017624 8001CBC4 7C602670 */  srawi   r0, r3, 4
/* 017628 8001CBC8 7C000194 */  addze   r0, r0
/* 01762C 8001CBCC 54002036 */  slwi    r0, r0, 4
/* 017630 8001CBD0 7C001810 */  subfc   r0, r0, r3
/* 017634 8001CBD4 901D00B0 */  stw     r0, 0xb0(r29)
/* 017638 8001CBD8 48082125 */  bl      OSDisableInterrupts
/* 01763C 8001CBDC 7C7C1B78 */  mr      r28, r3
/* 017640 8001CBE0 4809B471 */  bl      AIGetDMAEnableFlag
/* 017644 8001CBE4 2C030000 */  cmpwi   r3, 0
/* 017648 8001CBE8 41820010 */  beq     lbl_8001CBF8
/* 01764C 8001CBEC 801D00B4 */  lwz     r0, 0xb4(r29)
/* 017650 8001CBF0 2C000001 */  cmpwi   r0, 1
/* 017654 8001CBF4 40820020 */  bne     lbl_8001CC14
lbl_8001CBF8:
/* 017658 8001CBF8 3BC00001 */  li      r30, 1
/* 01765C 8001CBFC 387D0000 */  addi    r3, r29, 0
/* 017660 8001CC00 480000CD */  bl      soundPlayBuffer
/* 017664 8001CC04 2C030000 */  cmpwi   r3, 0
/* 017668 8001CC08 4082000C */  bne     lbl_8001CC14
/* 01766C 8001CC0C 38600000 */  li      r3, 0
/* 017670 8001CC10 48000074 */  b       lbl_8001CC84
lbl_8001CC14:
/* 017674 8001CC14 7F83E378 */  mr      r3, r28
/* 017678 8001CC18 4808210D */  bl      OSRestoreInterrupts
/* 01767C 8001CC1C 801D00B4 */  lwz     r0, 0xb4(r29)
/* 017680 8001CC20 2C000000 */  cmpwi   r0, 0
/* 017684 8001CC24 41820024 */  beq     lbl_8001CC48
/* 017688 8001CC28 387D0000 */  addi    r3, r29, 0
/* 01768C 8001CC2C 389F0000 */  addi    r4, r31, 0
/* 017690 8001CC30 38A00001 */  li      r5, 1
/* 017694 8001CC34 48000159 */  bl      soundMakeRamp
/* 017698 8001CC38 2C030000 */  cmpwi   r3, 0
/* 01769C 8001CC3C 4082000C */  bne     lbl_8001CC48
/* 0176A0 8001CC40 38600000 */  li      r3, 0
/* 0176A4 8001CC44 48000040 */  b       lbl_8001CC84
lbl_8001CC48:
/* 0176A8 8001CC48 387D0000 */  addi    r3, r29, 0
/* 0176AC 8001CC4C 389F0000 */  addi    r4, r31, 0
/* 0176B0 8001CC50 38A00000 */  li      r5, 0
/* 0176B4 8001CC54 48000139 */  bl      soundMakeRamp
/* 0176B8 8001CC58 2C030000 */  cmpwi   r3, 0
/* 0176BC 8001CC5C 4082000C */  bne     lbl_8001CC68
/* 0176C0 8001CC60 38600000 */  li      r3, 0
/* 0176C4 8001CC64 48000020 */  b       lbl_8001CC84
lbl_8001CC68:
/* 0176C8 8001CC68 2C1E0000 */  cmpwi   r30, 0
/* 0176CC 8001CC6C 41820014 */  beq     lbl_8001CC80
/* 0176D0 8001CC70 4809B3E1 */  bl      AIGetDMAEnableFlag
/* 0176D4 8001CC74 2C030000 */  cmpwi   r3, 0
/* 0176D8 8001CC78 40820008 */  bne     lbl_8001CC80
/* 0176DC 8001CC7C 4809B3E5 */  bl      AIStartDMA
lbl_8001CC80:
/* 0176E0 8001CC80 38600001 */  li      r3, 1
lbl_8001CC84:
/* 0176E4 8001CC84 80010024 */  lwz     r0, 0x24(r1)
/* 0176E8 8001CC88 83E1001C */  lwz     r31, 0x1c(r1)
/* 0176EC 8001CC8C 83C10018 */  lwz     r30, 0x18(r1)
/* 0176F0 8001CC90 7C0803A6 */  mtlr    r0
/* 0176F4 8001CC94 83A10014 */  lwz     r29, 0x14(r1)
/* 0176F8 8001CC98 83810010 */  lwz     r28, 0x10(r1)
/* 0176FC 8001CC9C 38210020 */  addi    r1, r1, 0x20
/* 017700 8001CCA0 4E800020 */  blr     
