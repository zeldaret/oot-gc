glabel THPPlayerPrepare
/* 00AA80 80010020 7C0802A6 */  mflr    r0
/* 00AA84 80010024 3CC08010 */  lis     r6, WorkBuffer@ha
/* 00AA88 80010028 90010004 */  stw     r0, 4(r1)
/* 00AA8C 8001002C 9421FFD0 */  stwu    r1, -0x30(r1)
/* 00AA90 80010030 BF410018 */  stmw    r26, 0x18(r1)
/* 00AA94 80010034 3BC696E0 */  addi    r30, r6, WorkBuffer@l
/* 00AA98 80010038 3CC0800F */  lis     r6, VolumeTable@ha
/* 00AA9C 8001003C 3BA30000 */  addi    r29, r3, 0
/* 00AAA0 80010040 3B440000 */  addi    r26, r4, 0
/* 00AAA4 80010044 3B650000 */  addi    r27, r5, 0
/* 00AAA8 80010048 3BE6A1E8 */  addi    r31, r6, VolumeTable@l
/* 00AAAC 8001004C 801E0640 */  lwz     r0, 0x640(r30)
/* 00AAB0 80010050 2C000000 */  cmpwi   r0, 0
/* 00AAB4 80010054 41820228 */  beq     lbl_8001027C
/* 00AAB8 80010058 3B9E0644 */  addi    r28, r30, 0x644
/* 00AABC 8001005C 881E0644 */  lbz     r0, 0x644(r30)
/* 00AAC0 80010060 28000000 */  cmplwi  r0, 0
/* 00AAC4 80010064 40820218 */  bne     lbl_8001027C
/* 00AAC8 80010068 2C1D0000 */  cmpwi   r29, 0
/* 00AACC 8001006C 40810084 */  ble     lbl_800100F0
/* 00AAD0 80010070 807E0600 */  lwz     r3, 0x600(r30)
/* 00AAD4 80010074 28030000 */  cmplwi  r3, 0
/* 00AAD8 80010078 40820018 */  bne     lbl_80010090
/* 00AADC 8001007C 387F0210 */  addi    r3, r31, 0x210
/* 00AAE0 80010080 4CC63182 */  crclr   6
/* 00AAE4 80010084 4808E575 */  bl      OSReport
/* 00AAE8 80010088 38600000 */  li      r3, 0
/* 00AAEC 8001008C 480001F4 */  b       lbl_80010280
lbl_80010090:
/* 00AAF0 80010090 801E05F0 */  lwz     r0, 0x5f0(r30)
/* 00AAF4 80010094 7C00E840 */  cmplw   r0, r29
/* 00AAF8 80010098 40810044 */  ble     lbl_800100DC
/* 00AAFC 8001009C 381DFFFF */  addi    r0, r29, -1
/* 00AB00 800100A0 5400103A */  slwi    r0, r0, 2
/* 00AB04 800100A4 7CC30214 */  add     r6, r3, r0
/* 00AB08 800100A8 389E0000 */  addi    r4, r30, 0
/* 00AB0C 800100AC 387E05A0 */  addi    r3, r30, 0x5a0
/* 00AB10 800100B0 38A00020 */  li      r5, 0x20
/* 00AB14 800100B4 48001DAD */  bl      movieDVDRead
/* 00AB18 800100B8 801E0604 */  lwz     r0, 0x604(r30)
/* 00AB1C 800100BC 807E0000 */  lwz     r3, 0(r30)
/* 00AB20 800100C0 7C001A14 */  add     r0, r0, r3
/* 00AB24 800100C4 901E0658 */  stw     r0, 0x658(r30)
/* 00AB28 800100C8 93BE0660 */  stw     r29, 0x660(r30)
/* 00AB2C 800100CC 801E0004 */  lwz     r0, 4(r30)
/* 00AB30 800100D0 7C030050 */  subf    r0, r3, r0
/* 00AB34 800100D4 901E065C */  stw     r0, 0x65c(r30)
/* 00AB38 800100D8 4800002C */  b       lbl_80010104
lbl_800100DC:
/* 00AB3C 800100DC 387F023C */  addi    r3, r31, 0x23c
/* 00AB40 800100E0 4CC63182 */  crclr   6
/* 00AB44 800100E4 4808E515 */  bl      OSReport
/* 00AB48 800100E8 38600000 */  li      r3, 0
/* 00AB4C 800100EC 48000194 */  b       lbl_80010280
lbl_800100F0:
/* 00AB50 800100F0 801E0604 */  lwz     r0, 0x604(r30)
/* 00AB54 800100F4 901E0658 */  stw     r0, 0x658(r30)
/* 00AB58 800100F8 801E05F4 */  lwz     r0, 0x5f4(r30)
/* 00AB5C 800100FC 901E065C */  stw     r0, 0x65c(r30)
/* 00AB60 80010100 93BE0660 */  stw     r29, 0x660(r30)
lbl_80010104:
/* 00AB64 80010104 3BBE0647 */  addi    r29, r30, 0x647
/* 00AB68 80010108 881E0647 */  lbz     r0, 0x647(r30)
/* 00AB6C 8001010C 28000000 */  cmplwi  r0, 0
/* 00AB70 80010110 41820030 */  beq     lbl_80010140
/* 00AB74 80010114 2C1B0000 */  cmpwi   r27, 0
/* 00AB78 80010118 41800010 */  blt     lbl_80010128
/* 00AB7C 8001011C 801E0638 */  lwz     r0, 0x638(r30)
/* 00AB80 80010120 7C1B0040 */  cmplw   r27, r0
/* 00AB84 80010124 41800018 */  blt     lbl_8001013C
lbl_80010128:
/* 00AB88 80010128 387F0270 */  addi    r3, r31, 0x270
/* 00AB8C 8001012C 4CC63182 */  crclr   6
/* 00AB90 80010130 4808E4C9 */  bl      OSReport
/* 00AB94 80010134 38600000 */  li      r3, 0
/* 00AB98 80010138 48000148 */  b       lbl_80010280
lbl_8001013C:
/* 00AB9C 8001013C 937E068C */  stw     r27, 0x68c(r30)
lbl_80010140:
/* 00ABA0 80010140 575A07FE */  clrlwi  r26, r26, 0x1f
/* 00ABA4 80010144 9B5E0646 */  stb     r26, 0x646(r30)
/* 00ABA8 80010148 38000000 */  li      r0, 0
/* 00ABAC 8001014C 3BFE0650 */  addi    r31, r30, 0x650
/* 00ABB0 80010150 901E0678 */  stw     r0, 0x678(r30)
/* 00ABB4 80010154 801E0650 */  lwz     r0, 0x650(r30)
/* 00ABB8 80010158 2C000000 */  cmpwi   r0, 0
/* 00ABBC 8001015C 4182005C */  beq     lbl_800101B8
/* 00ABC0 80010160 3B5E0654 */  addi    r26, r30, 0x654
/* 00ABC4 80010164 80BE05F8 */  lwz     r5, 0x5f8(r30)
/* 00ABC8 80010168 3B7E0604 */  addi    r27, r30, 0x604
/* 00ABCC 8001016C 809E0654 */  lwz     r4, 0x654(r30)
/* 00ABD0 80010170 80DE0604 */  lwz     r6, 0x604(r30)
/* 00ABD4 80010174 387E05A0 */  addi    r3, r30, 0x5a0
/* 00ABD8 80010178 48001CE9 */  bl      movieDVDRead
/* 00ABDC 8001017C 809A0000 */  lwz     r4, 0(r26)
/* 00ABE0 80010180 38600014 */  li      r3, 0x14
/* 00ABE4 80010184 801E0658 */  lwz     r0, 0x658(r30)
/* 00ABE8 80010188 80BB0000 */  lwz     r5, 0(r27)
/* 00ABEC 8001018C 7C040214 */  add     r0, r4, r0
/* 00ABF0 80010190 7F450050 */  subf    r26, r5, r0
/* 00ABF4 80010194 389A0000 */  addi    r4, r26, 0
/* 00ABF8 80010198 48002D89 */  bl      CreateVideoDecodeThread
/* 00ABFC 8001019C 881D0000 */  lbz     r0, 0(r29)
/* 00AC00 800101A0 28000000 */  cmplwi  r0, 0
/* 00AC04 800101A4 41820040 */  beq     lbl_800101E4
/* 00AC08 800101A8 3860000C */  li      r3, 0xc
/* 00AC0C 800101AC 389A0000 */  addi    r4, r26, 0
/* 00AC10 800101B0 48000BED */  bl      CreateAudioDecodeThread
/* 00AC14 800101B4 48000030 */  b       lbl_800101E4
lbl_800101B8:
/* 00AC18 800101B8 38600014 */  li      r3, 0x14
/* 00AC1C 800101BC 38800000 */  li      r4, 0
/* 00AC20 800101C0 48002D61 */  bl      CreateVideoDecodeThread
/* 00AC24 800101C4 881D0000 */  lbz     r0, 0(r29)
/* 00AC28 800101C8 28000000 */  cmplwi  r0, 0
/* 00AC2C 800101CC 41820010 */  beq     lbl_800101DC
/* 00AC30 800101D0 3860000C */  li      r3, 0xc
/* 00AC34 800101D4 38800000 */  li      r4, 0
/* 00AC38 800101D8 48000BC5 */  bl      CreateAudioDecodeThread
lbl_800101DC:
/* 00AC3C 800101DC 38600008 */  li      r3, 8
/* 00AC40 800101E0 48001981 */  bl      CreateReadThread
lbl_800101E4:
/* 00AC44 800101E4 4BFFFD41 */  bl      InitAllMessageQueue
/* 00AC48 800101E8 48002E1D */  bl      VideoDecodeThreadStart
/* 00AC4C 800101EC 881D0000 */  lbz     r0, 0(r29)
/* 00AC50 800101F0 28000000 */  cmplwi  r0, 0
/* 00AC54 800101F4 41820008 */  beq     lbl_800101FC
/* 00AC58 800101F8 48000C85 */  bl      AudioDecodeThreadStart
lbl_800101FC:
/* 00AC5C 800101FC 801F0000 */  lwz     r0, 0(r31)
/* 00AC60 80010200 2C000000 */  cmpwi   r0, 0
/* 00AC64 80010204 40820008 */  bne     lbl_8001020C
/* 00AC68 80010208 48001925 */  bl      ReadThreadStart
lbl_8001020C:
/* 00AC6C 8001020C 387E0040 */  addi    r3, r30, 0x40
/* 00AC70 80010210 38810014 */  addi    r4, r1, 0x14
/* 00AC74 80010214 38A00001 */  li      r5, 1
/* 00AC78 80010218 4808F491 */  bl      OSReceiveMessage
/* 00AC7C 8001021C 80010014 */  lwz     r0, 0x14(r1)
/* 00AC80 80010220 2C000000 */  cmpwi   r0, 0
/* 00AC84 80010224 4182000C */  beq     lbl_80010230
/* 00AC88 80010228 38000001 */  li      r0, 1
/* 00AC8C 8001022C 48000008 */  b       lbl_80010234
lbl_80010230:
/* 00AC90 80010230 38000000 */  li      r0, 0
lbl_80010234:
/* 00AC94 80010234 2C000000 */  cmpwi   r0, 0
/* 00AC98 80010238 4082000C */  bne     lbl_80010244
/* 00AC9C 8001023C 38600000 */  li      r3, 0
/* 00ACA0 80010240 48000040 */  b       lbl_80010280
lbl_80010244:
/* 00ACA4 80010244 38000001 */  li      r0, 1
/* 00ACA8 80010248 981C0000 */  stb     r0, 0(r28)
/* 00ACAC 8001024C 38000000 */  li      r0, 0
/* 00ACB0 80010250 3C608001 */  lis     r3, PlayControl@ha
/* 00ACB4 80010254 981E0645 */  stb     r0, 0x645(r30)
/* 00ACB8 80010258 386302F0 */  addi    r3, r3, PlayControl@l
/* 00ACBC 8001025C 901E0698 */  stw     r0, 0x698(r30)
/* 00ACC0 80010260 901E069C */  stw     r0, 0x69c(r30)
/* 00ACC4 80010264 901E0690 */  stw     r0, 0x690(r30)
/* 00ACC8 80010268 901E0694 */  stw     r0, 0x694(r30)
/* 00ACCC 8001026C 48095F1D */  bl      VISetPostRetraceCallback
/* 00ACD0 80010270 906D8940 */  stw     r3, OldVIPostCallback@sda21(r13)
/* 00ACD4 80010274 38600001 */  li      r3, 1
/* 00ACD8 80010278 48000008 */  b       lbl_80010280
lbl_8001027C:
/* 00ACDC 8001027C 38600000 */  li      r3, 0
lbl_80010280:
/* 00ACE0 80010280 BB410018 */  lmw     r26, 0x18(r1)
/* 00ACE4 80010284 80010034 */  lwz     r0, 0x34(r1)
/* 00ACE8 80010288 38210030 */  addi    r1, r1, 0x30
/* 00ACEC 8001028C 7C0803A6 */  mtlr    r0
/* 00ACF0 80010290 4E800020 */  blr     
