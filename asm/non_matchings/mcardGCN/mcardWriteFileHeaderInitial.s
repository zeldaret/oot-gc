glabel mcardWriteFileHeaderInitial
/* 014C20 8001A1C0 7C0802A6 */  mflr    r0
/* 014C24 8001A1C4 90010004 */  stw     r0, 4(r1)
/* 014C28 8001A1C8 94219FC0 */  stwu    r1, -0x6040(r1)
/* 014C2C 8001A1CC 93E1603C */  stw     r31, 0x603c(r1)
/* 014C30 8001A1D0 7C7F1B78 */  mr      r31, r3
/* 014C34 8001A1D4 93C16038 */  stw     r30, 0x6038(r1)
/* 014C38 8001A1D8 93A16034 */  stw     r29, 0x6034(r1)
/* 014C3C 8001A1DC 80030470 */  lwz     r0, 0x470(r3)
/* 014C40 8001A1E0 2C000001 */  cmpwi   r0, 1
/* 014C44 8001A1E4 408201E0 */  bne     lbl_8001A3C4
/* 014C48 8001A1E8 3C60800F */  lis     r3, D_800EA7A0@ha
/* 014C4C 8001A1EC 3883A7A0 */  addi    r4, r3, D_800EA7A0@l
/* 014C50 8001A1F0 387F0370 */  addi    r3, r31, 0x370
/* 014C54 8001A1F4 480B67B5 */  bl      strcpy
/* 014C58 8001A1F8 3C608010 */  lis     r3, mCard@ha
/* 014C5C 8001A1FC 386379B0 */  addi    r3, r3, mCard@l
/* 014C60 8001A200 3BA30470 */  addi    r29, r3, 0x470
/* 014C64 8001A204 80030470 */  lwz     r0, 0x470(r3)
/* 014C68 8001A208 2C000001 */  cmpwi   r0, 1
/* 014C6C 8001A20C 40820088 */  bne     lbl_8001A294
/* 014C70 8001A210 3881000C */  addi    r4, r1, 0xc
/* 014C74 8001A214 7C802E70 */  srawi   r0, r4, 5
/* 014C78 8001A218 7C000194 */  addze   r0, r0
/* 014C7C 8001A21C 54002834 */  slwi    r0, r0, 5
/* 014C80 8001A220 7C002010 */  subfc   r0, r0, r4
/* 014C84 8001A224 20600020 */  subfic  r3, r0, 0x20
/* 014C88 8001A228 7C602E70 */  srawi   r0, r3, 5
/* 014C8C 8001A22C 7C000194 */  addze   r0, r0
/* 014C90 8001A230 54002834 */  slwi    r0, r0, 5
/* 014C94 8001A234 7C001810 */  subfc   r0, r0, r3
/* 014C98 8001A238 7FC40214 */  add     r30, r4, r0
/* 014C9C 8001A23C 389E0000 */  addi    r4, r30, 0
/* 014CA0 8001A240 387F0348 */  addi    r3, r31, 0x348
/* 014CA4 8001A244 38A06000 */  li      r5, 0x6000
/* 014CA8 8001A248 38C00000 */  li      r6, 0
/* 014CAC 8001A24C 38E00000 */  li      r7, 0
/* 014CB0 8001A250 480A6781 */  bl      CARDReadAsync
/* 014CB4 8001A254 38830000 */  addi    r4, r3, 0
/* 014CB8 8001A258 387F0000 */  addi    r3, r31, 0
/* 014CBC 8001A25C 48002045 */  bl      mcardGCErrorHandler
/* 014CC0 8001A260 2C030001 */  cmpwi   r3, 1
/* 014CC4 8001A264 4182000C */  beq     lbl_8001A270
/* 014CC8 8001A268 38000000 */  li      r0, 0
/* 014CCC 8001A26C 4800002C */  b       lbl_8001A298
lbl_8001A270:
/* 014CD0 8001A270 7FE3FB78 */  mr      r3, r31
/* 014CD4 8001A274 48000EF5 */  bl      mcardPoll
/* 014CD8 8001A278 2C030001 */  cmpwi   r3, 1
/* 014CDC 8001A27C 4182000C */  beq     lbl_8001A288
/* 014CE0 8001A280 38000000 */  li      r0, 0
/* 014CE4 8001A284 48000014 */  b       lbl_8001A298
lbl_8001A288:
/* 014CE8 8001A288 387E0000 */  addi    r3, r30, 0
/* 014CEC 8001A28C 38806000 */  li      r4, 0x6000
/* 014CF0 8001A290 480834C1 */  bl      DCInvalidateRange
lbl_8001A294:
/* 014CF4 8001A294 38000001 */  li      r0, 1
lbl_8001A298:
/* 014CF8 8001A298 2C000000 */  cmpwi   r0, 0
/* 014CFC 8001A29C 4082000C */  bne     lbl_8001A2A8
/* 014D00 8001A2A0 38600000 */  li      r3, 0
/* 014D04 8001A2A4 48000124 */  b       lbl_8001A3C8
lbl_8001A2A8:
/* 014D08 8001A2A8 3881000C */  addi    r4, r1, 0xc
/* 014D0C 8001A2AC 7C802E70 */  srawi   r0, r4, 5
/* 014D10 8001A2B0 7C000194 */  addze   r0, r0
/* 014D14 8001A2B4 54002834 */  slwi    r0, r0, 5
/* 014D18 8001A2B8 7C002010 */  subfc   r0, r0, r4
/* 014D1C 8001A2BC 20600020 */  subfic  r3, r0, 0x20
/* 014D20 8001A2C0 7C602E70 */  srawi   r0, r3, 5
/* 014D24 8001A2C4 7C000194 */  addze   r0, r0
/* 014D28 8001A2C8 54002834 */  slwi    r0, r0, 5
/* 014D2C 8001A2CC 7C001810 */  subfc   r0, r0, r3
/* 014D30 8001A2D0 7FC40214 */  add     r30, r4, r0
/* 014D34 8001A2D4 387E3070 */  addi    r3, r30, 0x3070
/* 014D38 8001A2D8 389F0050 */  addi    r4, r31, 0x50
/* 014D3C 8001A2DC 38A00040 */  li      r5, 0x40
/* 014D40 8001A2E0 4BFEB1E5 */  bl      memcpy
/* 014D44 8001A2E4 387E30B0 */  addi    r3, r30, 0x30b0
/* 014D48 8001A2E8 389F0110 */  addi    r4, r31, 0x110
/* 014D4C 8001A2EC 38A00201 */  li      r5, 0x201
/* 014D50 8001A2F0 4BFEB1D5 */  bl      memcpy
/* 014D54 8001A2F4 387E32B1 */  addi    r3, r30, 0x32b1
/* 014D58 8001A2F8 389F00D0 */  addi    r4, r31, 0xd0
/* 014D5C 8001A2FC 38A00040 */  li      r5, 0x40
/* 014D60 8001A300 4BFEB1C5 */  bl      memcpy
/* 014D64 8001A304 387E0000 */  addi    r3, r30, 0
/* 014D68 8001A308 389F0320 */  addi    r4, r31, 0x320
/* 014D6C 8001A30C 38A00028 */  li      r5, 0x28
/* 014D70 8001A310 4BFEB1B5 */  bl      memcpy
/* 014D74 8001A314 387F0000 */  addi    r3, r31, 0
/* 014D78 8001A318 389E0000 */  addi    r4, r30, 0
/* 014D7C 8001A31C 480018F9 */  bl      mcardSaveChecksumFileHeader
/* 014D80 8001A320 801D0000 */  lwz     r0, 0(r29)
/* 014D84 8001A324 2C000001 */  cmpwi   r0, 1
/* 014D88 8001A328 40820088 */  bne     lbl_8001A3B0
/* 014D8C 8001A32C 387E0000 */  addi    r3, r30, 0
/* 014D90 8001A330 38806000 */  li      r4, 0x6000
/* 014D94 8001A334 48083479 */  bl      DCStoreRange
/* 014D98 8001A338 389E0000 */  addi    r4, r30, 0
/* 014D9C 8001A33C 387F0348 */  addi    r3, r31, 0x348
/* 014DA0 8001A340 38A06000 */  li      r5, 0x6000
/* 014DA4 8001A344 38C00000 */  li      r6, 0
/* 014DA8 8001A348 38E00000 */  li      r7, 0
/* 014DAC 8001A34C 480A6A31 */  bl      CARDWriteAsync
/* 014DB0 8001A350 38830000 */  addi    r4, r3, 0
/* 014DB4 8001A354 387F0000 */  addi    r3, r31, 0
/* 014DB8 8001A358 48001F49 */  bl      mcardGCErrorHandler
/* 014DBC 8001A35C 2C030001 */  cmpwi   r3, 1
/* 014DC0 8001A360 4182000C */  beq     lbl_8001A36C
/* 014DC4 8001A364 38000000 */  li      r0, 0
/* 014DC8 8001A368 4800004C */  b       lbl_8001A3B4
lbl_8001A36C:
/* 014DCC 8001A36C 38006000 */  li      r0, 0x6000
/* 014DD0 8001A370 3C608001 */  lis     r3, simulatorMCardPollDrawBar@ha
/* 014DD4 8001A374 901F036C */  stw     r0, 0x36c(r31)
/* 014DD8 8001A378 38038A14 */  addi    r0, r3, simulatorMCardPollDrawBar@l
/* 014DDC 8001A37C 901F0364 */  stw     r0, 0x364(r31)
/* 014DE0 8001A380 807F0360 */  lwz     r3, 0x360(r31)
/* 014DE4 8001A384 480A319D */  bl      CARDGetXferredBytes
/* 014DE8 8001A388 907F0368 */  stw     r3, 0x368(r31)
/* 014DEC 8001A38C 7FE3FB78 */  mr      r3, r31
/* 014DF0 8001A390 48000DD9 */  bl      mcardPoll
/* 014DF4 8001A394 2C030001 */  cmpwi   r3, 1
/* 014DF8 8001A398 41820010 */  beq     lbl_8001A3A8
/* 014DFC 8001A39C 38000000 */  li      r0, 0
/* 014E00 8001A3A0 901F0364 */  stw     r0, 0x364(r31)
/* 014E04 8001A3A4 48000010 */  b       lbl_8001A3B4
lbl_8001A3A8:
/* 014E08 8001A3A8 38000000 */  li      r0, 0
/* 014E0C 8001A3AC 901F0364 */  stw     r0, 0x364(r31)
lbl_8001A3B0:
/* 014E10 8001A3B0 38000001 */  li      r0, 1
lbl_8001A3B4:
/* 014E14 8001A3B4 2C000000 */  cmpwi   r0, 0
/* 014E18 8001A3B8 4082000C */  bne     lbl_8001A3C4
/* 014E1C 8001A3BC 38600000 */  li      r3, 0
/* 014E20 8001A3C0 48000008 */  b       lbl_8001A3C8
lbl_8001A3C4:
/* 014E24 8001A3C4 38600001 */  li      r3, 1
lbl_8001A3C8:
/* 014E28 8001A3C8 80016044 */  lwz     r0, 0x6044(r1)
/* 014E2C 8001A3CC 83E1603C */  lwz     r31, 0x603c(r1)
/* 014E30 8001A3D0 83C16038 */  lwz     r30, 0x6038(r1)
/* 014E34 8001A3D4 7C0803A6 */  mtlr    r0
/* 014E38 8001A3D8 83A16034 */  lwz     r29, 0x6034(r1)
/* 014E3C 8001A3DC 38216040 */  addi    r1, r1, 0x6040
/* 014E40 8001A3E0 4E800020 */  blr     
