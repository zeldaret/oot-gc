glabel mcardWriteFileHeader
/* 014F9C 8001A53C 7C0802A6 */  mflr    r0
/* 014FA0 8001A540 90010004 */  stw     r0, 4(r1)
/* 014FA4 8001A544 94219B30 */  stwu    r1, -0x64d0(r1)
/* 014FA8 8001A548 93E164CC */  stw     r31, 0x64cc(r1)
/* 014FAC 8001A54C 93C164C8 */  stw     r30, 0x64c8(r1)
/* 014FB0 8001A550 7C7E1B78 */  mr      r30, r3
/* 014FB4 8001A554 93A164C4 */  stw     r29, 0x64c4(r1)
/* 014FB8 8001A558 80030470 */  lwz     r0, 0x470(r3)
/* 014FBC 8001A55C 2C000001 */  cmpwi   r0, 1
/* 014FC0 8001A560 40820378 */  bne     lbl_8001A8D8
/* 014FC4 8001A564 3C60800F */  lis     r3, D_800EA7B4@ha
/* 014FC8 8001A568 3883A7B4 */  addi    r4, r3, D_800EA7B4@l
/* 014FCC 8001A56C 387E0370 */  addi    r3, r30, 0x370
/* 014FD0 8001A570 480B6439 */  bl      strcpy
/* 014FD4 8001A574 3C608010 */  lis     r3, mCard@ha
/* 014FD8 8001A578 386379B0 */  addi    r3, r3, mCard@l
/* 014FDC 8001A57C 3BE30470 */  addi    r31, r3, 0x470
/* 014FE0 8001A580 80030470 */  lwz     r0, 0x470(r3)
/* 014FE4 8001A584 2C000001 */  cmpwi   r0, 1
/* 014FE8 8001A588 40820154 */  bne     lbl_8001A6DC
/* 014FEC 8001A58C 801E0470 */  lwz     r0, 0x470(r30)
/* 014FF0 8001A590 2C000001 */  cmpwi   r0, 1
/* 014FF4 8001A594 408200B0 */  bne     lbl_8001A644
/* 014FF8 8001A598 40820070 */  bne     lbl_8001A608
/* 014FFC 8001A59C 3881022C */  addi    r4, r1, 0x22c
/* 015000 8001A5A0 7C802E70 */  srawi   r0, r4, 5
/* 015004 8001A5A4 7C000194 */  addze   r0, r0
/* 015008 8001A5A8 54002834 */  slwi    r0, r0, 5
/* 01500C 8001A5AC 7C002010 */  subfc   r0, r0, r4
/* 015010 8001A5B0 20600020 */  subfic  r3, r0, 0x20
/* 015014 8001A5B4 7C602E70 */  srawi   r0, r3, 5
/* 015018 8001A5B8 7C000194 */  addze   r0, r0
/* 01501C 8001A5BC 54002834 */  slwi    r0, r0, 5
/* 015020 8001A5C0 7C001810 */  subfc   r0, r0, r3
/* 015024 8001A5C4 7FA40214 */  add     r29, r4, r0
/* 015028 8001A5C8 389D0000 */  addi    r4, r29, 0
/* 01502C 8001A5CC 387E0348 */  addi    r3, r30, 0x348
/* 015030 8001A5D0 38A00200 */  li      r5, 0x200
/* 015034 8001A5D4 38C00000 */  li      r6, 0
/* 015038 8001A5D8 480A653D */  bl      CARDRead
/* 01503C 8001A5DC 38830000 */  addi    r4, r3, 0
/* 015040 8001A5E0 387E0000 */  addi    r3, r30, 0
/* 015044 8001A5E4 48001CBD */  bl      mcardGCErrorHandler
/* 015048 8001A5E8 2C030001 */  cmpwi   r3, 1
/* 01504C 8001A5EC 4182000C */  beq     lbl_8001A5F8
/* 015050 8001A5F0 38000000 */  li      r0, 0
/* 015054 8001A5F4 48000018 */  b       lbl_8001A60C
lbl_8001A5F8:
/* 015058 8001A5F8 389D0000 */  addi    r4, r29, 0
/* 01505C 8001A5FC 38610474 */  addi    r3, r1, 0x474
/* 015060 8001A600 38A00028 */  li      r5, 0x28
/* 015064 8001A604 4BFEAEC1 */  bl      memcpy
lbl_8001A608:
/* 015068 8001A608 38000001 */  li      r0, 1
lbl_8001A60C:
/* 01506C 8001A60C 2C000000 */  cmpwi   r0, 0
/* 015070 8001A610 4082000C */  bne     lbl_8001A61C
/* 015074 8001A614 38000000 */  li      r0, 0
/* 015078 8001A618 48000030 */  b       lbl_8001A648
lbl_8001A61C:
/* 01507C 8001A61C 38610474 */  addi    r3, r1, 0x474
/* 015080 8001A620 389E0320 */  addi    r4, r30, 0x320
/* 015084 8001A624 38A00028 */  li      r5, 0x28
/* 015088 8001A628 480B42E9 */  bl      memcmp
/* 01508C 8001A62C 2C030000 */  cmpwi   r3, 0
/* 015090 8001A630 41820014 */  beq     lbl_8001A644
/* 015094 8001A634 38000017 */  li      r0, 0x17
/* 015098 8001A638 901E035C */  stw     r0, 0x35c(r30)
/* 01509C 8001A63C 38000000 */  li      r0, 0
/* 0150A0 8001A640 48000008 */  b       lbl_8001A648
lbl_8001A644:
/* 0150A4 8001A644 38000001 */  li      r0, 1
lbl_8001A648:
/* 0150A8 8001A648 2C000000 */  cmpwi   r0, 0
/* 0150AC 8001A64C 4082000C */  bne     lbl_8001A658
/* 0150B0 8001A650 38000000 */  li      r0, 0
/* 0150B4 8001A654 4800008C */  b       lbl_8001A6E0
lbl_8001A658:
/* 0150B8 8001A658 3881049C */  addi    r4, r1, 0x49c
/* 0150BC 8001A65C 7C802E70 */  srawi   r0, r4, 5
/* 0150C0 8001A660 7C000194 */  addze   r0, r0
/* 0150C4 8001A664 54002834 */  slwi    r0, r0, 5
/* 0150C8 8001A668 7C002010 */  subfc   r0, r0, r4
/* 0150CC 8001A66C 20600020 */  subfic  r3, r0, 0x20
/* 0150D0 8001A670 7C602E70 */  srawi   r0, r3, 5
/* 0150D4 8001A674 7C000194 */  addze   r0, r0
/* 0150D8 8001A678 54002834 */  slwi    r0, r0, 5
/* 0150DC 8001A67C 7C001810 */  subfc   r0, r0, r3
/* 0150E0 8001A680 7FA40214 */  add     r29, r4, r0
/* 0150E4 8001A684 389D0000 */  addi    r4, r29, 0
/* 0150E8 8001A688 387E0348 */  addi    r3, r30, 0x348
/* 0150EC 8001A68C 38A06000 */  li      r5, 0x6000
/* 0150F0 8001A690 38C00000 */  li      r6, 0
/* 0150F4 8001A694 38E00000 */  li      r7, 0
/* 0150F8 8001A698 480A6339 */  bl      CARDReadAsync
/* 0150FC 8001A69C 38830000 */  addi    r4, r3, 0
/* 015100 8001A6A0 387E0000 */  addi    r3, r30, 0
/* 015104 8001A6A4 48001BFD */  bl      mcardGCErrorHandler
/* 015108 8001A6A8 2C030001 */  cmpwi   r3, 1
/* 01510C 8001A6AC 4182000C */  beq     lbl_8001A6B8
/* 015110 8001A6B0 38000000 */  li      r0, 0
/* 015114 8001A6B4 4800002C */  b       lbl_8001A6E0
lbl_8001A6B8:
/* 015118 8001A6B8 7FC3F378 */  mr      r3, r30
/* 01511C 8001A6BC 48000AAD */  bl      mcardPoll
/* 015120 8001A6C0 2C030001 */  cmpwi   r3, 1
/* 015124 8001A6C4 4182000C */  beq     lbl_8001A6D0
/* 015128 8001A6C8 38000000 */  li      r0, 0
/* 01512C 8001A6CC 48000014 */  b       lbl_8001A6E0
lbl_8001A6D0:
/* 015130 8001A6D0 387D0000 */  addi    r3, r29, 0
/* 015134 8001A6D4 38806000 */  li      r4, 0x6000
/* 015138 8001A6D8 48083079 */  bl      DCInvalidateRange
lbl_8001A6DC:
/* 01513C 8001A6DC 38000001 */  li      r0, 1
lbl_8001A6E0:
/* 015140 8001A6E0 2C000000 */  cmpwi   r0, 0
/* 015144 8001A6E4 4082000C */  bne     lbl_8001A6F0
/* 015148 8001A6E8 38600000 */  li      r3, 0
/* 01514C 8001A6EC 480001F0 */  b       lbl_8001A8DC
lbl_8001A6F0:
/* 015150 8001A6F0 3881049C */  addi    r4, r1, 0x49c
/* 015154 8001A6F4 7C802E70 */  srawi   r0, r4, 5
/* 015158 8001A6F8 7C000194 */  addze   r0, r0
/* 01515C 8001A6FC 54002834 */  slwi    r0, r0, 5
/* 015160 8001A700 7C002010 */  subfc   r0, r0, r4
/* 015164 8001A704 20600020 */  subfic  r3, r0, 0x20
/* 015168 8001A708 7C602E70 */  srawi   r0, r3, 5
/* 01516C 8001A70C 7C000194 */  addze   r0, r0
/* 015170 8001A710 54002834 */  slwi    r0, r0, 5
/* 015174 8001A714 7C001810 */  subfc   r0, r0, r3
/* 015178 8001A718 7FA40214 */  add     r29, r4, r0
/* 01517C 8001A71C 387D3070 */  addi    r3, r29, 0x3070
/* 015180 8001A720 389E0050 */  addi    r4, r30, 0x50
/* 015184 8001A724 38A00040 */  li      r5, 0x40
/* 015188 8001A728 4BFEAD9D */  bl      memcpy
/* 01518C 8001A72C 387D30B0 */  addi    r3, r29, 0x30b0
/* 015190 8001A730 389E0110 */  addi    r4, r30, 0x110
/* 015194 8001A734 38A00201 */  li      r5, 0x201
/* 015198 8001A738 4BFEAD8D */  bl      memcpy
/* 01519C 8001A73C 387D32B1 */  addi    r3, r29, 0x32b1
/* 0151A0 8001A740 389E00D0 */  addi    r4, r30, 0xd0
/* 0151A4 8001A744 38A00040 */  li      r5, 0x40
/* 0151A8 8001A748 4BFEAD7D */  bl      memcpy
/* 0151AC 8001A74C 387E0000 */  addi    r3, r30, 0
/* 0151B0 8001A750 389D0000 */  addi    r4, r29, 0
/* 0151B4 8001A754 480014C1 */  bl      mcardSaveChecksumFileHeader
/* 0151B8 8001A758 3C60800F */  lis     r3, D_800EA7A0@ha
/* 0151BC 8001A75C 3883A7A0 */  addi    r4, r3, D_800EA7A0@l
/* 0151C0 8001A760 387E0370 */  addi    r3, r30, 0x370
/* 0151C4 8001A764 480B6245 */  bl      strcpy
/* 0151C8 8001A768 801F0000 */  lwz     r0, 0(r31)
/* 0151CC 8001A76C 2C000001 */  cmpwi   r0, 1
/* 0151D0 8001A770 40820154 */  bne     lbl_8001A8C4
/* 0151D4 8001A774 801E0470 */  lwz     r0, 0x470(r30)
/* 0151D8 8001A778 2C000001 */  cmpwi   r0, 1
/* 0151DC 8001A77C 408200B0 */  bne     lbl_8001A82C
/* 0151E0 8001A780 40820070 */  bne     lbl_8001A7F0
/* 0151E4 8001A784 3881000C */  addi    r4, r1, 0xc
/* 0151E8 8001A788 7C802E70 */  srawi   r0, r4, 5
/* 0151EC 8001A78C 7C000194 */  addze   r0, r0
/* 0151F0 8001A790 54002834 */  slwi    r0, r0, 5
/* 0151F4 8001A794 7C002010 */  subfc   r0, r0, r4
/* 0151F8 8001A798 20600020 */  subfic  r3, r0, 0x20
/* 0151FC 8001A79C 7C602E70 */  srawi   r0, r3, 5
/* 015200 8001A7A0 7C000194 */  addze   r0, r0
/* 015204 8001A7A4 54002834 */  slwi    r0, r0, 5
/* 015208 8001A7A8 7C001810 */  subfc   r0, r0, r3
/* 01520C 8001A7AC 7FE40214 */  add     r31, r4, r0
/* 015210 8001A7B0 389F0000 */  addi    r4, r31, 0
/* 015214 8001A7B4 387E0348 */  addi    r3, r30, 0x348
/* 015218 8001A7B8 38A00200 */  li      r5, 0x200
/* 01521C 8001A7BC 38C00000 */  li      r6, 0
/* 015220 8001A7C0 480A6355 */  bl      CARDRead
/* 015224 8001A7C4 38830000 */  addi    r4, r3, 0
/* 015228 8001A7C8 387E0000 */  addi    r3, r30, 0
/* 01522C 8001A7CC 48001AD5 */  bl      mcardGCErrorHandler
/* 015230 8001A7D0 2C030001 */  cmpwi   r3, 1
/* 015234 8001A7D4 4182000C */  beq     lbl_8001A7E0
/* 015238 8001A7D8 38000000 */  li      r0, 0
/* 01523C 8001A7DC 48000018 */  b       lbl_8001A7F4
lbl_8001A7E0:
/* 015240 8001A7E0 389F0000 */  addi    r4, r31, 0
/* 015244 8001A7E4 3861044C */  addi    r3, r1, 0x44c
/* 015248 8001A7E8 38A00028 */  li      r5, 0x28
/* 01524C 8001A7EC 4BFEACD9 */  bl      memcpy
lbl_8001A7F0:
/* 015250 8001A7F0 38000001 */  li      r0, 1
lbl_8001A7F4:
/* 015254 8001A7F4 2C000000 */  cmpwi   r0, 0
/* 015258 8001A7F8 4082000C */  bne     lbl_8001A804
/* 01525C 8001A7FC 38000000 */  li      r0, 0
/* 015260 8001A800 48000030 */  b       lbl_8001A830
lbl_8001A804:
/* 015264 8001A804 3861044C */  addi    r3, r1, 0x44c
/* 015268 8001A808 389E0320 */  addi    r4, r30, 0x320
/* 01526C 8001A80C 38A00028 */  li      r5, 0x28
/* 015270 8001A810 480B4101 */  bl      memcmp
/* 015274 8001A814 2C030000 */  cmpwi   r3, 0
/* 015278 8001A818 41820014 */  beq     lbl_8001A82C
/* 01527C 8001A81C 38000017 */  li      r0, 0x17
/* 015280 8001A820 901E035C */  stw     r0, 0x35c(r30)
/* 015284 8001A824 38000000 */  li      r0, 0
/* 015288 8001A828 48000008 */  b       lbl_8001A830
lbl_8001A82C:
/* 01528C 8001A82C 38000001 */  li      r0, 1
lbl_8001A830:
/* 015290 8001A830 2C000000 */  cmpwi   r0, 0
/* 015294 8001A834 4082000C */  bne     lbl_8001A840
/* 015298 8001A838 38000000 */  li      r0, 0
/* 01529C 8001A83C 4800008C */  b       lbl_8001A8C8
lbl_8001A840:
/* 0152A0 8001A840 387D0000 */  addi    r3, r29, 0
/* 0152A4 8001A844 38806000 */  li      r4, 0x6000
/* 0152A8 8001A848 48082F65 */  bl      DCStoreRange
/* 0152AC 8001A84C 389D0000 */  addi    r4, r29, 0
/* 0152B0 8001A850 387E0348 */  addi    r3, r30, 0x348
/* 0152B4 8001A854 38A06000 */  li      r5, 0x6000
/* 0152B8 8001A858 38C00000 */  li      r6, 0
/* 0152BC 8001A85C 38E00000 */  li      r7, 0
/* 0152C0 8001A860 480A651D */  bl      CARDWriteAsync
/* 0152C4 8001A864 38830000 */  addi    r4, r3, 0
/* 0152C8 8001A868 387E0000 */  addi    r3, r30, 0
/* 0152CC 8001A86C 48001A35 */  bl      mcardGCErrorHandler
/* 0152D0 8001A870 2C030001 */  cmpwi   r3, 1
/* 0152D4 8001A874 4182000C */  beq     lbl_8001A880
/* 0152D8 8001A878 38000000 */  li      r0, 0
/* 0152DC 8001A87C 4800004C */  b       lbl_8001A8C8
lbl_8001A880:
/* 0152E0 8001A880 38006000 */  li      r0, 0x6000
/* 0152E4 8001A884 3C608001 */  lis     r3, simulatorMCardPollDrawBar@ha
/* 0152E8 8001A888 901E036C */  stw     r0, 0x36c(r30)
/* 0152EC 8001A88C 38038A14 */  addi    r0, r3, simulatorMCardPollDrawBar@l
/* 0152F0 8001A890 901E0364 */  stw     r0, 0x364(r30)
/* 0152F4 8001A894 807E0360 */  lwz     r3, 0x360(r30)
/* 0152F8 8001A898 480A2C89 */  bl      CARDGetXferredBytes
/* 0152FC 8001A89C 907E0368 */  stw     r3, 0x368(r30)
/* 015300 8001A8A0 7FC3F378 */  mr      r3, r30
/* 015304 8001A8A4 480008C5 */  bl      mcardPoll
/* 015308 8001A8A8 2C030001 */  cmpwi   r3, 1
/* 01530C 8001A8AC 41820010 */  beq     lbl_8001A8BC
/* 015310 8001A8B0 38000000 */  li      r0, 0
/* 015314 8001A8B4 901E0364 */  stw     r0, 0x364(r30)
/* 015318 8001A8B8 48000010 */  b       lbl_8001A8C8
lbl_8001A8BC:
/* 01531C 8001A8BC 38000000 */  li      r0, 0
/* 015320 8001A8C0 901E0364 */  stw     r0, 0x364(r30)
lbl_8001A8C4:
/* 015324 8001A8C4 38000001 */  li      r0, 1
lbl_8001A8C8:
/* 015328 8001A8C8 2C000000 */  cmpwi   r0, 0
/* 01532C 8001A8CC 4082000C */  bne     lbl_8001A8D8
/* 015330 8001A8D0 38600000 */  li      r3, 0
/* 015334 8001A8D4 48000008 */  b       lbl_8001A8DC
lbl_8001A8D8:
/* 015338 8001A8D8 38600001 */  li      r3, 1
lbl_8001A8DC:
/* 01533C 8001A8DC 800164D4 */  lwz     r0, 0x64d4(r1)
/* 015340 8001A8E0 83E164CC */  lwz     r31, 0x64cc(r1)
/* 015344 8001A8E4 83C164C8 */  lwz     r30, 0x64c8(r1)
/* 015348 8001A8E8 7C0803A6 */  mtlr    r0
/* 01534C 8001A8EC 83A164C4 */  lwz     r29, 0x64c4(r1)
/* 015350 8001A8F0 382164D0 */  addi    r1, r1, 0x64d0
/* 015354 8001A8F4 4E800020 */  blr     
